# 布局设计思路


## 基本思路

布局分两种元素，区域（用于显示具体的内容），对应的是 Panel 类；分割器（用于拖动调整大小），对应的是 Resizer 类。

由于 Panel 有限（目前固定的四种 HTML，CSS，JS，Result），所以无需更新里面的内容，只需要根据不同的布局调整显示顺序、位置、大小，Resizer 则是根据不同的布局动态更新（更新，删除，新增等）。

布局的基本思路是先分列，再依次对每列进行分行，也就是配置的基本内容如下：

	[
		{                             // 第一列
			width: 50,                 // 列宽
			rows: [                    // 行
				['javascript', 70],     // 行元素及高度
				['html', 30]
			],
		},
		{
			width: 50,
			rows: [
				['result', 70],
				['css', 30]
			]
		}
	],

上述内容具体请参考 layouts.js (内置的布局配置)。

渲染时，依次遍历 列，然后遍历列里的 行，只创建最简单的 dom 结构（所有的 panel 放在同一级），并利用 flex 布局进行切换适配。
渲染时，列与列之间增加竖直（横向移动）的 Resizer，行与行之间增加水平（竖直移动）的 Resizer。


## Resizer 拖动改变大小


Resizer 里会记录位置及对应 Panel 的属性（ Resizer options 里的 Key 值）来关联，并通过 key 值找到下一个 Panel 进行同步的尺寸调整。

Resizer Options 的 key 值是个数组，表示 layout Options 中的属性位置。

例如 第一列和第二列之间的 resizer, Key 的值是 [0, 'width'], 通过遍历到数组的倒数第二位，可以获取到第一列的配置以及往下获取第二列配置，并根据拖动改变的值对第一列 和第二列的 width 进行增加和减少操作，
最终改变了 layout options 并重新渲染（更新）。

又例如：第一列第一行和第二行之间的 resizer 的 key 值是 [0, 'rows', 0, 1]




## 动态更新


